{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\balkon-project\\\\client\\\\src\\\\components\\\\ZakljucnaOcjena.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { dodajZakljucnuOcjenu, ucitajZakljucnuOcjenu } from '../redux/zakljucnaOcjena/actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ZakljucnaOcjena = () => {\n  _s();\n\n  const {\n    idUcenik,\n    idRazred,\n    idPredmet\n  } = useParams();\n  const [zakljOcj, setZakljOcj] = useState('');\n  const [currentRazred] = useSelector(state => state.razredi.items.filter(razred => razred.idRazred === +idRazred));\n  const zakljucnaOcjena = useSelector(state => state.zakljucneOcjene.items);\n  console.log(1111, zakljucnaOcjena);\n  const pojedinacneOcjene = ucenikoveOcjene.map(ocjena => ocjena.ocjena);\n  const prosjek = pojedinacneOcjene.reduce((total, curr) => {\n    return +total + +curr / pojedinacneOcjene.length;\n  }, 0);\n\n  const zakljucnaOcjenaSubmitHandler = e => {\n    if (ucenikoveOcjene) {\n      console.log(e.target.zakljucnaOcjena.value);\n      e.preventDefault();\n      const zakljOcjena = {\n        idUcenik,\n        idPredmet,\n        idSkolskaGodina: currentRazred.idSkolskaGodina,\n        zakljucnaOcjena: zakljOcj\n      };\n      console.log(zakljOcjena);\n      dispatch(dodajZakljucnuOcjenu(zakljOcjena));\n    }\n  };\n\n  useEffect(() => {\n    if (idPredmet) {\n      dispatch(ucitajZakljucnuOcjenu(idUcenik, idPredmet, currentRazred.idSkolskaGodina));\n    }\n  }, [idUcenik, idPredmet, currentRazred.idSkolskaGodina, zakljucnaOcjena.length]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Prosjek ocjena\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      defaultValue: prosjek.toFixed(2)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: zakljucnaOcjenaSubmitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Zakljucna ocjena\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), idPredmet && zakljucnaOcjena.length > 0 ? /*#__PURE__*/_jsxDEV(\"input\", {\n        defaultValue: zakljucnaOcjena[0].zakljucnaOcjena\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"zakljucnaOcjena\",\n          onChange: e => setZakljOcj(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ZakljucnaOcjena, \"EKysmIsYvR/8yF4Z8ekNqHUQgsw=\", true, function () {\n  return [useSelector, useSelector];\n});\n\n_c = ZakljucnaOcjena;\nexport default ZakljucnaOcjena;\n\nvar _c;\n\n$RefreshReg$(_c, \"ZakljucnaOcjena\");","map":{"version":3,"names":["React","useState","useSelector","dodajZakljucnuOcjenu","ucitajZakljucnuOcjenu","ZakljucnaOcjena","idUcenik","idRazred","idPredmet","useParams","zakljOcj","setZakljOcj","currentRazred","state","razredi","items","filter","razred","zakljucnaOcjena","zakljucneOcjene","console","log","pojedinacneOcjene","ucenikoveOcjene","map","ocjena","prosjek","reduce","total","curr","length","zakljucnaOcjenaSubmitHandler","e","target","value","preventDefault","zakljOcjena","idSkolskaGodina","dispatch","useEffect","toFixed"],"sources":["C:/Users/pc/Desktop/balkon-project/client/src/components/ZakljucnaOcjena.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport {\r\n  dodajZakljucnuOcjenu,\r\n  ucitajZakljucnuOcjenu,\r\n} from '../redux/zakljucnaOcjena/actions';\r\n\r\nconst ZakljucnaOcjena = () => {\r\n  const { idUcenik, idRazred, idPredmet } = useParams();\r\n  const [zakljOcj, setZakljOcj] = useState('');\r\n\r\n  const [currentRazred] = useSelector((state) =>\r\n    state.razredi.items.filter((razred) => razred.idRazred === +idRazred)\r\n  );\r\n  const zakljucnaOcjena = useSelector((state) => state.zakljucneOcjene.items);\r\n  console.log(1111, zakljucnaOcjena);\r\n  const pojedinacneOcjene = ucenikoveOcjene.map((ocjena) => ocjena.ocjena);\r\n  const prosjek = pojedinacneOcjene.reduce((total, curr) => {\r\n    return +total + +curr / pojedinacneOcjene.length;\r\n  }, 0);\r\n\r\n  const zakljucnaOcjenaSubmitHandler = (e) => {\r\n    if (ucenikoveOcjene) {\r\n      console.log(e.target.zakljucnaOcjena.value);\r\n      e.preventDefault();\r\n      const zakljOcjena = {\r\n        idUcenik,\r\n        idPredmet,\r\n        idSkolskaGodina: currentRazred.idSkolskaGodina,\r\n        zakljucnaOcjena: zakljOcj,\r\n      };\r\n      console.log(zakljOcjena);\r\n      dispatch(dodajZakljucnuOcjenu(zakljOcjena));\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (idPredmet) {\r\n      dispatch(\r\n        ucitajZakljucnuOcjenu(\r\n          idUcenik,\r\n          idPredmet,\r\n          currentRazred.idSkolskaGodina\r\n        )\r\n      );\r\n    }\r\n  }, [\r\n    idUcenik,\r\n    idPredmet,\r\n    currentRazred.idSkolskaGodina,\r\n    zakljucnaOcjena.length,\r\n  ]);\r\n\r\n  return (\r\n    <>\r\n      <label>Prosjek ocjena</label>\r\n      <input defaultValue={prosjek.toFixed(2)}></input>\r\n      <form onSubmit={zakljucnaOcjenaSubmitHandler}>\r\n        <label>Zakljucna ocjena</label>\r\n        {idPredmet && zakljucnaOcjena.length > 0 ? (\r\n          <input defaultValue={zakljucnaOcjena[0].zakljucnaOcjena}></input>\r\n        ) : (\r\n          <>\r\n            <input\r\n              name=\"zakljucnaOcjena\"\r\n              onChange={(e) => setZakljOcj(e.target.value)}\r\n            />\r\n            <button type=\"submit\">Submit</button>\r\n          </>\r\n        )}\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ZakljucnaOcjena;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}