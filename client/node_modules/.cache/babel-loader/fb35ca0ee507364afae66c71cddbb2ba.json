{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\balkon-project\\\\client\\\\src\\\\components\\\\ZakljucnaOcjena.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { dodajZakljucnuOcjenu, ucitajZakljucnuOcjenu } from '../redux/zakljucnaOcjena/actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ZakljucnaOcjena = () => {\n  _s();\n\n  const {\n    idUcenik,\n    idRazred,\n    idPredmet\n  } = useParams();\n  const [zakljOcj, setZakljOcj] = useState('');\n  const [currentRazred] = useSelector(state => state.razredi.items.filter(razred => razred.idRazred === +idRazred));\n  const ucenikoveOcjene = useSelector(state => state.ocjene.items);\n  const zakljucnaOcjena = useSelector(state => state.zakljucneOcjene.items);\n  console.log(1111, zakljucnaOcjena);\n  const pojedinacneOcjene = ucenikoveOcjene.map(ocjena => ocjena.ocjena);\n  const prosjek = pojedinacneOcjene.reduce((total, curr) => {\n    return +total + +curr / pojedinacneOcjene.length;\n  }, 0);\n\n  const zakljucnaOcjenaSubmitHandler = e => {\n    if (ucenikoveOcjene) {\n      console.log(e.target.zakljucnaOcjena.value);\n      e.preventDefault();\n      const zakljOcjena = {\n        idUcenik,\n        idPredmet,\n        idSkolskaGodina: currentRazred.idSkolskaGodina,\n        zakljucnaOcjena: zakljOcj\n      };\n      console.log(zakljOcjena);\n      dispatch(dodajZakljucnuOcjenu(zakljOcjena));\n    }\n  };\n\n  useEffect(() => {\n    if (idPredmet) {\n      dispatch(ucitajZakljucnuOcjenu(idUcenik, idPredmet, currentRazred.idSkolskaGodina));\n    }\n  }, [idUcenik, idPredmet, currentRazred.idSkolskaGodina, zakljucnaOcjena.length]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Prosjek ocjena\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      defaultValue: prosjek.toFixed(2)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: zakljucnaOcjenaSubmitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Zakljucna ocjena\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), idPredmet && zakljucnaOcjena.length > 0 ? /*#__PURE__*/_jsxDEV(\"input\", {\n        defaultValue: zakljucnaOcjena[0].zakljucnaOcjena\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"zakljucnaOcjena\",\n          onChange: e => setZakljOcj(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ZakljucnaOcjena, \"RPT3W0OO/Dyu2Q6yi4JUM0EacUw=\", false, function () {\n  return [useParams, useSelector, useSelector, useSelector];\n});\n\n_c = ZakljucnaOcjena;\nexport default ZakljucnaOcjena;\n\nvar _c;\n\n$RefreshReg$(_c, \"ZakljucnaOcjena\");","map":{"version":3,"names":["React","useState","useSelector","useParams","dodajZakljucnuOcjenu","ucitajZakljucnuOcjenu","ZakljucnaOcjena","idUcenik","idRazred","idPredmet","zakljOcj","setZakljOcj","currentRazred","state","razredi","items","filter","razred","ucenikoveOcjene","ocjene","zakljucnaOcjena","zakljucneOcjene","console","log","pojedinacneOcjene","map","ocjena","prosjek","reduce","total","curr","length","zakljucnaOcjenaSubmitHandler","e","target","value","preventDefault","zakljOcjena","idSkolskaGodina","dispatch","useEffect","toFixed"],"sources":["C:/Users/pc/Desktop/balkon-project/client/src/components/ZakljucnaOcjena.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport {\r\n  dodajZakljucnuOcjenu,\r\n  ucitajZakljucnuOcjenu,\r\n} from '../redux/zakljucnaOcjena/actions';\r\n\r\nconst ZakljucnaOcjena = () => {\r\n  const { idUcenik, idRazred, idPredmet } = useParams();\r\n  const [zakljOcj, setZakljOcj] = useState('');\r\n  const [currentRazred] = useSelector((state) =>\r\n    state.razredi.items.filter((razred) => razred.idRazred === +idRazred)\r\n  );\r\n  const ucenikoveOcjene = useSelector((state) => state.ocjene.items);\r\n  const zakljucnaOcjena = useSelector((state) => state.zakljucneOcjene.items);\r\n  console.log(1111, zakljucnaOcjena);\r\n  const pojedinacneOcjene = ucenikoveOcjene.map((ocjena) => ocjena.ocjena);\r\n  const prosjek = pojedinacneOcjene.reduce((total, curr) => {\r\n    return +total + +curr / pojedinacneOcjene.length;\r\n  }, 0);\r\n\r\n  const zakljucnaOcjenaSubmitHandler = (e) => {\r\n    if (ucenikoveOcjene) {\r\n      console.log(e.target.zakljucnaOcjena.value);\r\n      e.preventDefault();\r\n      const zakljOcjena = {\r\n        idUcenik,\r\n        idPredmet,\r\n        idSkolskaGodina: currentRazred.idSkolskaGodina,\r\n        zakljucnaOcjena: zakljOcj,\r\n      };\r\n      console.log(zakljOcjena);\r\n      dispatch(dodajZakljucnuOcjenu(zakljOcjena));\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (idPredmet) {\r\n      dispatch(\r\n        ucitajZakljucnuOcjenu(\r\n          idUcenik,\r\n          idPredmet,\r\n          currentRazred.idSkolskaGodina\r\n        )\r\n      );\r\n    }\r\n  }, [\r\n    idUcenik,\r\n    idPredmet,\r\n    currentRazred.idSkolskaGodina,\r\n    zakljucnaOcjena.length,\r\n  ]);\r\n\r\n  return (\r\n    <>\r\n      <label>Prosjek ocjena</label>\r\n      <input defaultValue={prosjek.toFixed(2)}></input>\r\n      <form onSubmit={zakljucnaOcjenaSubmitHandler}>\r\n        <label>Zakljucna ocjena</label>\r\n        {idPredmet && zakljucnaOcjena.length > 0 ? (\r\n          <input defaultValue={zakljucnaOcjena[0].zakljucnaOcjena}></input>\r\n        ) : (\r\n          <>\r\n            <input\r\n              name=\"zakljucnaOcjena\"\r\n              onChange={(e) => setZakljOcj(e.target.value)}\r\n            />\r\n            <button type=\"submit\">Submit</button>\r\n          </>\r\n        )}\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ZakljucnaOcjena;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}