{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\balkon-project\\\\client\\\\src\\\\components\\\\ZakljucnaOcjena.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { dodajZakljucnuOcjenu, ucitajZakljucnuOcjenu } from '../redux/zakljucnaOcjena/actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ZakljucnaOcjena = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    idUcenik,\n    idRazred,\n    idPredmet\n  } = useParams();\n  const [zakljOcj, setZakljOcj] = useState('');\n  const [currentRazred] = useSelector(state => state.razredi.items.filter(razred => razred.idRazred === +idRazred));\n  const ucenikoveOcjene = useSelector(state => state.ocjene.items);\n  const zakljucnaOcjena = useSelector(state => state.zakljucneOcjene.items);\n  console.log(zakljucnaOcjena);\n  const pojedinacneOcjene = ucenikoveOcjene.map(ocjena => ocjena.ocjena);\n  const prosjek = pojedinacneOcjene.reduce((total, curr) => {\n    return +total + +curr / pojedinacneOcjene.length;\n  }, 0);\n\n  const zakljucnaOcjenaSubmitHandler = e => {\n    if (ucenikoveOcjene) {\n      e.preventDefault();\n      const zakljOcjena = {\n        idUcenik: +idUcenik,\n        idPredmet: +idPredmet,\n        idSkolskaGodina: currentRazred.idSkolskaGodina,\n        zakljucnaOcjena: zakljOcj\n      };\n      console.log(zakljOcjena);\n      dispatch(dodajZakljucnuOcjenu(zakljOcjena));\n    }\n  };\n\n  useEffect(() => {\n    if (ucenikoveOcjene.length > 0) {\n      dispatch(ucitajZakljucnuOcjenu(idUcenik, idPredmet, currentRazred.idSkolskaGodina));\n    }\n  }, [idUcenik, idRazred, idPredmet, currentRazred.idSkolskaGodina, zakljucnaOcjena.idZakljucnaOcjena]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Prosjek ocjena\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      defaultValue: prosjek.toFixed(2)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), zakljucnaOcjena.length < 1 && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: zakljucnaOcjenaSubmitHandler,\n      children: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Zakljucna ocjena\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"zakljucnaOcjena\",\n          value: zakljOcj,\n          onChange: e => setZakljOcj(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ZakljucnaOcjena, \"OBnEST8b+haIDy4eOmLStty9maY=\", false, function () {\n  return [useDispatch, useParams, useSelector, useSelector, useSelector];\n});\n\n_c = ZakljucnaOcjena;\nexport default ZakljucnaOcjena;\n\nvar _c;\n\n$RefreshReg$(_c, \"ZakljucnaOcjena\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","useParams","dodajZakljucnuOcjenu","ucitajZakljucnuOcjenu","ZakljucnaOcjena","dispatch","idUcenik","idRazred","idPredmet","zakljOcj","setZakljOcj","currentRazred","state","razredi","items","filter","razred","ucenikoveOcjene","ocjene","zakljucnaOcjena","zakljucneOcjene","console","log","pojedinacneOcjene","map","ocjena","prosjek","reduce","total","curr","length","zakljucnaOcjenaSubmitHandler","e","preventDefault","zakljOcjena","idSkolskaGodina","idZakljucnaOcjena","toFixed","target","value"],"sources":["C:/Users/pc/Desktop/balkon-project/client/src/components/ZakljucnaOcjena.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport {\r\n  dodajZakljucnuOcjenu,\r\n  ucitajZakljucnuOcjenu,\r\n} from '../redux/zakljucnaOcjena/actions';\r\n\r\nconst ZakljucnaOcjena = () => {\r\n  const dispatch = useDispatch();\r\n  const { idUcenik, idRazred, idPredmet } = useParams();\r\n  const [zakljOcj, setZakljOcj] = useState('');\r\n  const [currentRazred] = useSelector((state) =>\r\n    state.razredi.items.filter((razred) => razred.idRazred === +idRazred)\r\n  );\r\n  const ucenikoveOcjene = useSelector((state) => state.ocjene.items);\r\n  const zakljucnaOcjena = useSelector((state) => state.zakljucneOcjene.items);\r\n  console.log(zakljucnaOcjena);\r\n  const pojedinacneOcjene = ucenikoveOcjene.map((ocjena) => ocjena.ocjena);\r\n  const prosjek = pojedinacneOcjene.reduce((total, curr) => {\r\n    return +total + +curr / pojedinacneOcjene.length;\r\n  }, 0);\r\n\r\n  const zakljucnaOcjenaSubmitHandler = (e) => {\r\n    if (ucenikoveOcjene) {\r\n      e.preventDefault();\r\n      const zakljOcjena = {\r\n        idUcenik: +idUcenik,\r\n        idPredmet: +idPredmet,\r\n        idSkolskaGodina: currentRazred.idSkolskaGodina,\r\n        zakljucnaOcjena: zakljOcj,\r\n      };\r\n      console.log(zakljOcjena);\r\n      dispatch(dodajZakljucnuOcjenu(zakljOcjena));\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (ucenikoveOcjene.length > 0) {\r\n      dispatch(\r\n        ucitajZakljucnuOcjenu(\r\n          idUcenik,\r\n          idPredmet,\r\n          currentRazred.idSkolskaGodina\r\n        )\r\n      );\r\n    }\r\n  }, [\r\n    idUcenik,\r\n    idRazred,\r\n    idPredmet,\r\n    currentRazred.idSkolskaGodina,\r\n    zakljucnaOcjena.idZakljucnaOcjena,\r\n  ]);\r\n\r\n  return (\r\n    <>\r\n      <label>Prosjek ocjena</label>\r\n      <input defaultValue={prosjek.toFixed(2)}></input>\r\n      {zakljucnaOcjena.length < 1 && (\r\n        <form onSubmit={zakljucnaOcjenaSubmitHandler}>\r\n          <>\r\n            <label>Zakljucna ocjena</label>\r\n            <input\r\n              name=\"zakljucnaOcjena\"\r\n              value={zakljOcj}\r\n              onChange={(e) => setZakljOcj(e.target.value)}\r\n            />\r\n            <button type=\"submit\">Submit</button>\r\n          </>\r\n        </form>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ZakljucnaOcjena;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}